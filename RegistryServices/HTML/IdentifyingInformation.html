<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
        <link rel="stylesheet" href="../CSS/style.css">
        
        <script src="../JS/auth/authManager.js"></script>
        <script src="../JS/sidebarManager.js"></script>
        <script src="../JS/breadcrumbManager.js"></script>
        <script src="../JS/javascript.js"></script>
        <script src="../JS/identifyingInformation.js"></script>
        <script src="../JS/dataManager.js"></script>
        <script src="../JS/workflowSessionManager.js"></script>
        
        <title>Registry Services</title>

        <style>
            .info-row input[type="text"],
            .info-row input[type="url"],
            .info-row input[type="date"],
            .info-row select {
                width: 100%;
                max-width: 240px;
                min-width: 90px;
                box-sizing: border-box;
                padding: 4.5px;
                font-size: 0.75rem;
            }
            .info-row input[readonly] {
                background-color: #f5f5f5 !important;
                color: #666 !important;
                cursor: not-allowed;
                border: 1px solid #ddd;
            }
            .info-row label 
            {
                font-size: 0.741rem;
            }
            .info-table > div 
            {
                padding: 12.35px 9.5px 4.75px 9.5px !important;
                margin-bottom: 13.3px !important;
            }
            .info-table h3 
            {
                font-size: 0.8rem;
                margin-bottom: 7.5px;
            }
            .info-row 
            {
                margin-bottom: 7.6px;
            }
            .view-button 
            {
                padding: 4.75px 12.35px !important;
                font-size: 0.741rem !important;
            }
            .page-Content 
            {
                padding: 9.5px 1.52vw 1.52vw 1.52vw !important;
            }
            #contactInfo 
            {
                max-width: 240px;
                width: 100%;
                box-sizing: border-box;
                font-size: 0.75rem;
                padding: 4.5px;
            }
            #purpose 
            {
                max-width: 240px;
                width: 100%;
                box-sizing: border-box;
                font-size: 0.75rem;
                padding: 4.5px;
            }
            @media (max-width: 600px) 
            {
                .info-table 
                {
                    max-width: 100% !important;
                    padding: 0 2px;
                }
                .info-row input,
                .info-row select 
                {
                    max-width: 100%;
                    min-width: 0;
                    font-size: 0.76rem;
                }
                .page-Content 
                {
                    padding: 0 0.76vw;
                }
            }
        </style>
    </head>

    <body>
        <div id="sidebarContainer">
            <!-- Sidebar will be dynamically generated by sidebarManager.js -->
        </div>

        <div class="page-Content">
            <div id="breadcrumbContainer" class="breadcrumb-container">
                <!-- Breadcrumb will be dynamically generated by breadcrumbManager.js -->
            </div>
            <h1><i class="fa-solid fa-info"></i> Identifying Information</h1>

            <p style="margin: 10px 0 20px 0;">
                Use the inputs below to begin the process of adding Identifying Information and supporting artefacts to your Specification.<br>
                <span style="color: #d9534f;">*Minimum information required</span>
            </p>

<!----------------------------------------------------------------------------
        (1/2) The Form
        General Information
  ------------------------------------------------------------------------------>            
            <form id="identifyingForm" class="info-table" style="max-width: 600px; margin-left: 0;">
                <div style="background: #fff; border-radius: 8px; box-shadow: 0 2px 8px #0001; padding: 24px 24px 10px 24px; margin-bottom: 30px;">
                    <h3>General Information</h3>
                    
                    <!-- Specification Name (Required) -->
                    <div class="info-row">
                        <label for="specName">*Specification name:
                            <span class="semantic-tooltip" title="Enter the official name of the specification.">?</span>
                        </label>
                        <input type="text" id="specName" name="specName" required>
                    </div>
                    
                    <!-- Governing Entity (Read-only - derived from User Group) -->
                    <div class="info-row">
                        <label for="governingEntity">Governing Entity:
                            <span class="semantic-tooltip" title="Organization or authority responsible for the specification (derived from your user group).">?</span>
                        </label>
                        <input type="text" id="governingEntity" name="governingEntity" readonly>
                    </div>
                    
                    <!-- Contact Info (Required) -->
                    <div class="info-row">
                        <label for="contactInfo">*Contact Information:
                            <span class="semantic-tooltip" title="Provide an email or phone number for contact.">?</span>
                        </label>
                        <textarea id="contactInfo" name="contactInfo" rows="2" required></textarea>
                    </div>

                   <!-- Sector (Required) --> 
                    <div class="info-row">
                        <label for="sector">*Sector:
                            <span class="semantic-tooltip" title="Select the sector from the NACE list.">?</span>
                        </label>
                        <select id="sector" name="sector" required>
                            <option value="any">Any Sector</option>
                            <option>Agriculture, Forestry & Fishing</option>
                            <option>Mining & Quarrying</option>
                            <option>Manufacturing</option>
                            <option>Electricity & Gas</option>
                            <option>Water Supply & Waste Management</option>
                            <option>Construction</option>
                            <option>Wholesale & Retail Trade</option>
                            <option>Transportation & Storage</option>
                            <option>Accommodation & Food Services</option>
                            <option>Information & Communication</option>
                            <option>Financial & Insurance Activities</option>
                            <option>Real Estate Activities</option>
                            <option>Professional & Technical Activities</option>
                            <option>Administrative & Support Services</option>
                            <option>Public Administration & Defense</option>
                            <option>Education</option>
                            <option>Human Health & Social Work Activities</option>
                            <option>Arts, Entertainment & Recreation</option>
                            <option>Other Service Activities</option>
                            <option>Activities of Households as Employers</option>
                        </select>
                    </div>
                    
                    <!-- Sub Sector (Not Required) -->
                    <div class="info-row">
                        <label for="subSector">Sub Sector:
                            <span class="semantic-tooltip" title="Specify a more detailed sector if applicable.">?</span>
                        </label>
                        <input type="text" id="subSector" name="subSector">
                    </div>
                    
                    <!-- Country (Required) -->
                    <div class="info-row">
                        <label for="country">*Country:
                            <span class="semantic-tooltip" title="Select the country using the official EC country codes.">?</span>
                        </label>
                        <select id="country" name="country" required>
                            <option value="any">Any Country</option>
                            <!-- EU Member States -->
                            <option value="AT">Austria (AT)</option>
                            <option value="BE">Belgium (BE)</option>
                            <option value="BG">Bulgaria (BG)</option>
                            <option value="HR">Croatia (HR)</option>
                            <option value="CY">Cyprus (CY)</option>
                            <option value="CZ">Czechia (CZ)</option>
                            <option value="DK">Denmark (DK)</option>
                            <option value="EE">Estonia (EE)</option>
                            <option value="FI">Finland (FI)</option>
                            <option value="FR">France (FR)</option>
                            <option value="DE">Germany (DE)</option>
                            <option value="EL">Greece (EL)</option>
                            <option value="HU">Hungary (HU)</option>
                            <option value="IE">Ireland (IE)</option>
                            <option value="IT">Italy (IT)</option>
                            <option value="LV">Latvia (LV)</option>
                            <option value="LT">Lithuania (LT)</option>
                            <option value="LU">Luxembourg (LU)</option>
                            <option value="MT">Malta (MT)</option>
                            <option value="NL">Netherlands (NL)</option>
                            <option value="PL">Poland (PL)</option>
                            <option value="PT">Portugal (PT)</option>
                            <option value="RO">Romania (RO)</option>
                            <option value="SK">Slovakia (SK)</option>
                            <option value="SI">Slovenia (SI)</option>
                            <option value="ES">Spain (ES)</option>
                            <option value="SE">Sweden (SE)</option>
                            <!-- EFTA Member States -->
                            <option value="CH">Switzerland (CH)</option>
                            <option value="IS">Iceland (IS)</option>
                            <option value="LI">Liechtenstein (LI)</option>
                            <option value="NO">Norway (NO)</option>
                        </select>
                    </div>
                    
                    <!-- Purpose (Required) -->
                    <div class="info-row">
                        <label for="purpose">*Purpose:
                            <span class="semantic-tooltip" title="Describe the main purpose of the specification.">?</span>
                        </label>
                        <textarea id="purpose" name="purpose" rows="3" required></textarea>
                    </div>
                </div>
<!----------------------------------------------------------------------------
        (2/2) The Form
        Technical Information
  ------------------------------------------------------------------------------>   
                <div style="background: #fff; border-radius: 8px; box-shadow: 0 2px 8px #0001; padding: 24px 24px 10px 24px;">
                    <h3 style="margin-top:0;">Technical Information</h3>
                    
                    <!-- Specification Identifier (Required) -->
                    <div class="info-row">
                        <label for="specId">*Specification Identifier:
                            <span class="semantic-tooltip" title="A unique identifier for this specification (e.g., internal code or reference).">?</span>
                        </label>
                        <input type="text" id="specId" name="specId" required>
                    </div>
                    
                    <!-- Specification Version (Not Required) -->
                    <div class="info-row">
                        <label for="specVersion">Specification Version:
                            <span class="semantic-tooltip" title="Version number or label for this specification.">?</span>
                        </label>
                        <input type="text" id="specVersion" name="specVersion">
                    </div>
                    
                    <!-- Date of Implementation (Not Required) -->
                    <div class="info-row">
                        <label for="implDate">Date of Implementation:
                            <span class="semantic-tooltip" title="Date when this specification is planned to be or was implemented.">?</span>
                        </label>
                        <input type="date" id="implDate" name="implDate">
                    </div>
                    
                    <!-- Core Version (Not Required) -->
                    <div class="info-row">
                        <label for="coreVersion">Core Version:
                            <span class="semantic-tooltip" title="Select the version of the core invoice model this specification is based on.">?</span>
                        </label>
                        <select id="coreVersion" name="coreVersion">
                            <option value="">Select Version</option>
                            <option>1.0</option>
                            <option>2.0</option>
                            <option>3.0</option>
                        </select>
                    </div>
                    
                    <!-- Underlying Specification (Not Required) -->
                    <div class="info-row">
                        <label for="underlyingSpec">Underlying Specification:
                            <span class="semantic-tooltip" title="Reference to any underlying or base specification this builds on.">?</span>
                        </label>
                        <input type="text" id="underlyingSpec" name="underlyingSpec">
                    </div>
                    
                    <!-- Specification Source Link (Not Required) -->
                    <div class="info-row">
                        <label for="sourceLink">Specification Source Link:
                            <span class="semantic-tooltip" title="A URL to the official source or documentation for this specification.">?</span>
                        </label>
                        <input type="url" id="sourceLink" name="sourceLink">
                    </div>
                    
                    <!-- Preferred Syntax (Not Required) -->
                    <div class="info-row">
                        <label for="preferredSyntax">Preferred Syntax:
                            <span class="semantic-tooltip" title="Select the preferred syntax for this specification (e.g., UBL, EDIFACT, JSON).">?</span>
                        </label>
                        
                        <select id="preferredSyntax" name="preferredSyntax">
                            <option value="">Select Syntax</option>
                            <option>UBL</option>
                            <option>EDIFACT</option>
                            <option>JSON</option>
                        </select>
                    </div>
                </div>
                
                <!-- Save, Cancel & Core Invoice Model Buttons -->
                <div style="display: flex; justify-content: space-between; gap: 10px; margin-top: 30px;">
                    <div>
                        <button type="button" onclick="handleSave()" class="view-button">Save</button>
                        <button type="button" onclick="handleCancel()" class="view-button" style="background:#ccc; color:#333;">Cancel</button>
                    </div>
                    
                    <div>
                        <button type="button" onclick="saveAndGoToCoreInvoiceModel()" class="view-button" style="background:#217a36;">Core Invoice Model</button>
                    </div>
                </div>
            </form>
        </div>
    </body>
</html>